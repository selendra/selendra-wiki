(self.webpackChunk=self.webpackChunk||[]).push([[1969],{7940:(e,a,t)=>{"use strict";t.d(a,{Z:()=>p});var n=t(4165),r=t(5861),o=t(7294),i=t(3444),s=t(7974),l=t(7425);function d(e,a,t){return u.apply(this,arguments)}function u(){return(u=(0,r.Z)((0,n.Z)().mark((function e(a,t,r){var o,l,d,u,c;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=void 0,l=void 0,e.t0=a,e.next="selendra"===e.t0?5:7;break;case 5:return o="wss://rpc.selendra.org",e.abrupt("break",8);case 7:console.log("Unknown socket url provided, no connection made.");case 8:if(void 0!==o){e.next=12;break}return e.abrupt("return");case 12:return d=new i.U(o),e.next=15,s.G.create({provider:d});case 15:u=e.sent,(c=t.split(".")).forEach((function(e){e in u&&(u=u[e])})),e.t1=c[0],e.next="consts"===e.t1?21:"query"===e.t1?23:28;break;case 21:return l=u.toString(),e.abrupt("break",29);case 23:return e.next=25,u();case 25:return l=(l=e.sent).toString(),e.abrupt("break",29);case 28:console.log("Unknown path prefix ("+c[0]+") in "+t);case 29:return e.abrupt("return",l);case 30:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function c(e,a,t,n){switch(a){case"humanReadable":(0,l.HumanReadable)(e,t,n);break;case"blocksToDays":(0,l.BlocksToDays)(e,n);break;default:return void console.log("Ignoring unknown filter type")}}const p=function(e){var a=e.network,t=e.path,i=e.defaultValue,s=e.filter,l=void 0===s?void 0:s,u=(0,o.useState)(""),p=u[0],m=u[1];return a=a.toLowerCase(),(0,o.useEffect)((function(){void 0!==l?c(i.toString(),l,a,m):m(i.toString());var e=void 0;if("selendra"===a)e="wss://rpc.selendra.org";else console.log("Unknown network provided, "+a);if(void 0===e)console.log("Failed to connect to a valid websocket, applying default");else{var o=function(){var e=(0,r.Z)((0,n.Z)().mark((function e(){var r;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d(a,t,m);case 2:if(void 0!==(r=e.sent)){e.next=7;break}return e.abrupt("return");case 7:void 0!==l?c(r,l,a,m):m(r);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();try{o()}catch(s){console.log(s)}}}),[]),p}},7425:e=>{var a={selendra:{precision:1e10,symbol:"SEL"}};e.exports={HumanReadable:function(e,t,n){var r=void 0;"selendra"===t?(r=3,e=parseFloat(e),n((e=Number.isInteger(e/a[t].precision)?e/a[t].precision+" "+a[t].symbol:(e/a[t].precision).toFixed(r)+" "+a[t].symbol).toString())):console.log("Unknown network type found when attempting to apply 'Human Readable' filter")},BlocksToDays:function(e,a){a((e=6*e/86400).toString())}}},3654:(e,a,t)=>{"use strict";t.r(a),t.d(a,{assets:()=>c,contentTitle:()=>d,default:()=>h,frontMatter:()=>l,metadata:()=>u,toc:()=>p});var n=t(7462),r=t(3366),o=(t(7294),t(3905)),i=t(7940),s=["components"],l={id:"learn-simple-payouts",title:"Simple Payouts",sidebar_label:"Simple Payouts",description:"An overview of how payouts work for those staking.",keywords:["payouts","simple payouts","rewards","staking"],slug:"../learn-simple-payouts"},d=void 0,u={unversionedId:"learn/learn-simple-payouts",id:"learn/learn-simple-payouts",title:"Simple Payouts",description:"An overview of how payouts work for those staking.",source:"@site/../docs/learn/learn-simple-payouts.md",sourceDirName:"learn",slug:"/learn-simple-payouts",permalink:"/docs/learn-simple-payouts",draft:!1,editUrl:"https://github.com/selendra/selendra-wiki/edit/main/docs/learn/learn-simple-payouts.md",tags:[],version:"current",frontMatter:{id:"learn-simple-payouts",title:"Simple Payouts",sidebar_label:"Simple Payouts",description:"An overview of how payouts work for those staking.",keywords:["payouts","simple payouts","rewards","staking"],slug:"../learn-simple-payouts"},sidebar:"docs",previous:{title:"Randomness",permalink:"/docs/learn-randomness"},next:{title:"Advanced Staking Concepts",permalink:"/docs/learn-staking-advanced"}},c={},p=[{value:"Claiming Rewards",id:"claiming-rewards",level:2},{value:"F.A.Q. and Cautionary Notes",id:"faq-and-cautionary-notes",level:2}],m={toc:p};function h(e){var a=e.components,l=(0,r.Z)(e,s);return(0,o.kt)("wrapper",(0,n.Z)({},m,l,{components:a,mdxType:"MDXLayout"}),(0,o.kt)("p",null,"Selendra makes stakers claim their rewards for past eras by submitting a transaction. This\nnaturally leads to spreading out reward distribution, as people make transactions at disparate\ntimes, rather than updating the accounts of all stakers in a single block."),(0,o.kt)("p",null,"Even if everyone submitted a reward claim at the same time, the fact that they are individual\ntransactions would allow the block construction algorithm to process only a limited number per block\nand ensure that the network maintains a constant block time. If all rewards were sent out in one\nblock, this could cause serious issues with the stability of the network."),(0,o.kt)("p",null,"Simple payouts require one transaction per validator, per ",(0,o.kt)("a",{parentName:"p",href:"/docs/glossary##era"},"era"),", to\nclaim rewards. The reason Selendra requires this is to avoid an attack where someone has several\nthousand accounts nominating a single validator. The major cost in reward distribution is mutating\nthe accounts in storage, and Selendra cannot pay out several thousand accounts in a single\ntransaction."),(0,o.kt)("h2",{id:"claiming-rewards"},"Claiming Rewards"),(0,o.kt)("p",null,"Selendra stores the last 84 eras of reward information (e.g. maps of era number to validator points,\nstaking rewards, nomination exposure, etc.). Rewards will not be claimable more than 84 eras after\nthey were earned. This means that all rewards must be claimed within a maximum of 84 eras, although\nunder certain circumstances (described below) this may be as low as 28 eras."),(0,o.kt)("p",null,"If a validator kills their stash, any remaining rewards will no longer be claimable. Before doing\nthis, however, they would need to first stop validating and then unbond the funds in their stash,\nwhich takes 28 eras. If a validator were to immediately chill and start unbonding after rewards are\ncalculated, and nobody issued a payout for that era from that validator in the next 28 eras, the\nreward would no longer be claimable."),(0,o.kt)("admonition",{title:"In order to be absolutely sure that staking rewards can be claimed, users should trigger a",type:"info"},(0,o.kt)("p",{parentName:"admonition"},"payout before 28 eras have passed.")),(0,o.kt)("p",null,"Anyone can trigger a payout for any validator, as long as they are willing to pay the transaction\nfee. Someone must submit a transaction with a validator ID and an era index. Selendra will\nautomatically calculate that validator's reward, find the top\n",(0,o.kt)(i.Z,{network:"selendra",path:"query.staking.maxNominatorRewardedPerValidator",defaultValue:256,mdxType:"RPC"}),"\nnominators for that era, and distribute the rewards pro rata."),(0,o.kt)("admonition",{title:"The Staking system only applies the highest",type:"note"},(0,o.kt)("p",{parentName:"admonition"},"",(0,o.kt)(i.Z,{network:"selendra",path:"query.staking.maxNominatorRewardedPerValidator",defaultValue:256,mdxType:"RPC"}),"\nnominations to each validator to reduce the complexity of the staking set.")),(0,o.kt)("p",null,"These details are handled for you automatically if you use the\n",(0,o.kt)("a",{parentName:"p",href:"https://portal.selendra.org/#/staking/payout"},"Selendra-Portal UI"),", which also allows you to submit\nbatches of eras at once."),(0,o.kt)("p",null,'To claim rewards on Selendra-Portal UI, you will need to be in the "Payouts" tab underneath "Staking",\nwhich will list all the pending payouts for your stashes.'),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"pending-payouts",src:t(2195).Z,width:"2876",height:"600"})),(0,o.kt)("p",null,'To then claim your reward, select the "Payout all" button. This will prompt you to select your stash\naccounts for payout.'),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"select-payouts",src:t(9369).Z,width:"2192",height:"624"})),(0,o.kt)("p",null,"Once you are done with payout, another screen will appear asking for you to sign and submit the\ntransaction."),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"transaction-payouts",src:t(9426).Z,width:"2878",height:"818"})),(0,o.kt)("h2",{id:"faq-and-cautionary-notes"},"F.A.Q. and Cautionary Notes"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},"Rewards expire after 84 eras. On Polkadot, that's about 84 days. On Kusama, it is approximately\n21 days. Validators should claim all pending rewards before killing their stash in the event the\nvalidator decides to ",(0,o.kt)("inlineCode",{parentName:"li"},"chill")," -> ",(0,o.kt)("inlineCode",{parentName:"li"},"unbonds all")," -> ",(0,o.kt)("inlineCode",{parentName:"li"},"withdraws unbonded"),". Nominators will not miss\nout on rewards if they claim the pending rewards for a validator within 28 days. Essentially, the\ndeadline to ensure you get staking rewards is 28 eras. If the validator verifies its intent and\ndoes not unbond and withdraw, the 84 era timeline holds."),(0,o.kt)("li",{parentName:"ol"},"Claiming rewards (or neglecting to claim rewards) does not affect nominations in any way.\nNominations will persist after claiming rewards or after the rewards expire."),(0,o.kt)("li",{parentName:"ol"},'Rewards are not minted until they are claimed. Therefore, if your reward destination is "stash,\nincreasing amount at stake", then your staked amount does not reflect your rewards until you\nclaim them. If you want to maximize compounding, then you will need to claim often or nominate\nvalidators which regularly claim for you.'),(0,o.kt)("li",{parentName:"ol"},"Staking operations at the end of an era are closed to allow the off-chain validator election to\ntake place. See ",(0,o.kt)("a",{parentName:"li",href:"/docs/learn-phragmen#off-chain-phragmen"},"Off-chain Phragm\xe9n")," for more information.")))}h.isMDXComponent=!0},9426:(e,a,t)=>{"use strict";t.d(a,{Z:()=>n});const n=t.p+"assets/images/polkadotjs_payout_complete-87ad124d5d70e50c16f1434074562d70.png"},2195:(e,a,t)=>{"use strict";t.d(a,{Z:()=>n});const n=t.p+"assets/images/polkadotjs_payout_page-fc4f62399f71b542e9eaac01405ef528.png"},9369:(e,a,t)=>{"use strict";t.d(a,{Z:()=>n});const n=t.p+"assets/images/polkadotjs_payout_popup-feb847cdfae64f3fa247cdb2beea4ba6.png"},3971:()=>{},6601:()=>{}}]);