(self.webpackChunk=self.webpackChunk||[]).push([[2248],{7940:(e,n,t)=>{"use strict";t.d(n,{Z:()=>c});var o=t(4165),a=t(5861),i=t(7294),r=t(3444),s=t(7974),l=t(7425);function d(e,n,t){return p.apply(this,arguments)}function p(){return(p=(0,a.Z)((0,o.Z)().mark((function e(n,t,a){var i,l,d,p,m;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=void 0,l=void 0,e.t0=n,e.next="selendra"===e.t0?5:7;break;case 5:return i="wss://rpc.selendra.org",e.abrupt("break",8);case 7:console.log("Unknown socket url provided, no connection made.");case 8:if(void 0!==i){e.next=12;break}return e.abrupt("return");case 12:return d=new r.U(i),e.next=15,s.G.create({provider:d});case 15:p=e.sent,(m=t.split(".")).forEach((function(e){e in p&&(p=p[e])})),e.t1=m[0],e.next="consts"===e.t1?21:"query"===e.t1?23:28;break;case 21:return l=p.toString(),e.abrupt("break",29);case 23:return e.next=25,p();case 25:return l=(l=e.sent).toString(),e.abrupt("break",29);case 28:console.log("Unknown path prefix ("+m[0]+") in "+t);case 29:return e.abrupt("return",l);case 30:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function m(e,n,t,o){switch(n){case"humanReadable":(0,l.HumanReadable)(e,t,o);break;case"blocksToDays":(0,l.BlocksToDays)(e,o);break;default:return void console.log("Ignoring unknown filter type")}}const c=function(e){var n=e.network,t=e.path,r=e.defaultValue,s=e.filter,l=void 0===s?void 0:s,p=(0,i.useState)(""),c=p[0],h=p[1];return n=n.toLowerCase(),(0,i.useEffect)((function(){void 0!==l?m(r.toString(),l,n,h):h(r.toString());var e=void 0;if("selendra"===n)e="wss://rpc.selendra.org";else console.log("Unknown network provided, "+n);if(void 0===e)console.log("Failed to connect to a valid websocket, applying default");else{var i=function(){var e=(0,a.Z)((0,o.Z)().mark((function e(){var a;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d(n,t,h);case 2:if(void 0!==(a=e.sent)){e.next=7;break}return e.abrupt("return");case 7:void 0!==l?m(a,l,n,h):h(a);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();try{i()}catch(s){console.log(s)}}}),[]),c}},7425:e=>{var n={selendra:{precision:1e10,symbol:"SEL"}};e.exports={HumanReadable:function(e,t,o){var a=void 0;"selendra"===t?(a=3,e=parseFloat(e),o((e=Number.isInteger(e/n[t].precision)?e/n[t].precision+" "+n[t].symbol:(e/n[t].precision).toFixed(a)+" "+n[t].symbol).toString())):console.log("Unknown network type found when attempting to apply 'Human Readable' filter")},BlocksToDays:function(e,n){n((e=6*e/86400).toString())}}},2916:(e,n,t)=>{"use strict";t.r(n),t.d(n,{assets:()=>m,contentTitle:()=>d,default:()=>u,frontMatter:()=>l,metadata:()=>p,toc:()=>c});var o=t(7462),a=t(3366),i=(t(7294),t(3905)),r=t(7940),s=["components"],l={id:"learn-nomination-pools",title:"Nomination Pools",sidebar_label:"Nomination Pools",description:"Learn about Nomination Pools and their features",keyword:["nominate","nominator","stake","staking","pools"],slug:"../learn-nomination-pools"},d=void 0,p={unversionedId:"learn/learn-nomination-pools",id:"learn/learn-nomination-pools",title:"Nomination Pools",description:"Learn about Nomination Pools and their features",source:"@site/../docs/learn/learn-nomination-pools.md",sourceDirName:"learn",slug:"/learn-nomination-pools",permalink:"/docs/learn-nomination-pools",draft:!1,editUrl:"https://github.com/selendra/selendra-wiki/edit/main/docs/learn/learn-nomination-pools.md",tags:[],version:"current",frontMatter:{id:"learn-nomination-pools",title:"Nomination Pools",sidebar_label:"Nomination Pools",description:"Learn about Nomination Pools and their features",keyword:["nominate","nominator","stake","staking","pools"],slug:"../learn-nomination-pools"},sidebar:"docs",previous:{title:"Introduction to Staking",permalink:"/docs/learn-staking"},next:{title:"Staking FAQ",permalink:"/docs/learn-staking-faq"}},m={},c=[{value:"Key Components",id:"key-components",level:2},{value:"Pool Member Lifecycle",id:"pool-member-lifecycle",level:2},{value:"Join a pool",id:"join-a-pool",level:3},{value:"Claim rewards",id:"claim-rewards",level:3},{value:"Unbond and withdraw funds",id:"unbond-and-withdraw-funds",level:3},{value:"Limitations",id:"limitations",level:3},{value:"Pool Administration",id:"pool-administration",level:2},{value:"States",id:"states",level:3},{value:"Roles",id:"roles",level:3},{value:"Pool Lifecycle",id:"pool-lifecycle",level:2},{value:"WORK IN PROGRESSS",id:"work-in-progresss",level:3}],h={toc:c};function u(e){var n=e.components,l=(0,a.Z)(e,s);return(0,i.kt)("wrapper",(0,o.Z)({},h,l,{components:n,mdxType:"MDXLayout"}),(0,i.kt)("admonition",{title:"Nomination Pools are live on Selendra!",type:"info"},(0,i.kt)("p",{parentName:"admonition"},"Nomination pools are a new feature for Selendra's staking system that allows users to pool their\nDOT tokens together on-chain to nominate validators and receive rewards, significantly improving\nthe system\u2019s scalability. Now, anyone with as little as ",(0,i.kt)("a",{parentName:"p",href:"https://selendra.org/blog/nomination-pools-are-live-stake-natively-with-just-1-sel/"},"1 SEL can receive rewards for staking\nnatively on Selendra"),". ")),(0,i.kt)("admonition",{title:"Have questions on Nomination Pools?",type:"tip"},(0,i.kt)("p",{parentName:"admonition"},"If you have questions about nomination pools, please join our\n",(0,i.kt)("a",{parentName:"p",href:"https://matrix.to/#/#nompools-support:matrix.parity.io"},"nomination pools support channel"),".")),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"Nomination Pools",src:t(8346).Z,width:"1720",height:"963"})),(0,i.kt)("p",null,"Nomination pools are one of the key features from the roadmap of staking improvements on\nSelendra. They are designed to\npermissionlessly allow members to pool their funds together and act as a single nominator account."),(0,i.kt)("p",null,"Due to the current runtime constraints,\nSelendra can only handle\n",(0,i.kt)(r.Z,{network:"selendra",path:"consts.electionProviderMultiPhase.maxElectingVoters",defaultValue:22500,mdxType:"RPC"}),"\nnominators comfortably in the ",(0,i.kt)("a",{parentName:"p",href:"/docs/learn-nominator#staking-election-stages"},"electing set"),". As one of\nthe objectives of the ",(0,i.kt)("a",{parentName:"p",href:"/docs/learn-phragmen"},"NPoS algorithm")," is to maximize the overall stake on the\nnetwork, it can be inferred that the staking system on\nSelendra favors nominators with a larger\nstake. Only the nominator accounts which back the validators in the active set are eligible for\nreceiving staking rewards. This leaves out nomination intents from the accounts with lower token\nbalance than the min-active nomination and places them in a waiting queue to enter electing set.\nNomination pools will be handy to the members who would like to participate in the staking system\nwith a stake much lower than the dynamic min-active nomination threshold on the network. All\noperations are constant space and time complexity relative to the number of members, eliminating any\ntheoretical upper bound on the quantity of members the system can handle and thus scaling the number\nof accounts that can participate and earn rewards in the staking system on\nSelendra. In summary, each nomination pool is\nviewed as a single nominator from the NPoS system point of view."),(0,i.kt)("admonition",{title:"Why aren't the members in the nomination pools called delegators?",type:"info"},(0,i.kt)("p",{parentName:"admonition"},"The term ",(0,i.kt)("inlineCode",{parentName:"p"},"delegator")," is associated too much with Delegated Proof of Staking (DPoS) and since\nSelendra implements Nominated Proof of Staking\n(NPoS), naming them as delegators would be misleading. The term ",(0,i.kt)("inlineCode",{parentName:"p"},"member")," is our generic replacement\nfor ",(0,i.kt)("inlineCode",{parentName:"p"},"delegator"),". In action, members are actually quite similar to delegators and do delegate their\nnomination power to the pool.")),(0,i.kt)("p",null,"The earnings of the pool are split pro rata to a member's stake in the bonded pool (and thus the\nstaking rewards for members will be the same as if they were a nominator). Importantly, slashes are\nalso applied proportionally to members who may have been actively bonded."),(0,i.kt)("h2",{id:"key-components"},"Key Components"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Bonded Pool: Tracks the distribution of actively staked funds."),(0,i.kt)("li",{parentName:"ul"},"Reward Pool: Tracks rewards earned by actively staked funds."),(0,i.kt)("li",{parentName:"ul"},"Unbonding Sub Pools: Collection of pools at different phases (i.e. eras) of the unbonding\nlifecycle."),(0,i.kt)("li",{parentName:"ul"},"Members: Accounts that nominate to the pools."),(0,i.kt)("li",{parentName:"ul"},"Point: Unit of measure for a member\u2019s portion of a pool's funds. All pools start with a point to\nPlanck ratio of 1. Over time, if the pool receives rewards, they increase in value, and if the\npool is slashed, it decreases in value.")),(0,i.kt)("h2",{id:"pool-member-lifecycle"},"Pool Member Lifecycle"),(0,i.kt)("h3",{id:"join-a-pool"},"Join a pool"),(0,i.kt)("p",null,"A member delegates funds to a pool by transferring some amount to the pool\u2019s bonded account with the\n",(0,i.kt)("inlineCode",{parentName:"p"},"join")," extrinsic. The pool then increases its bond with the new funds. A member is afforded the\nability to bond additional funds, or re-stake rewards as long as they are already actively bonded.\nNote that a member may only belong to one pool at a time."),(0,i.kt)("p",null,"",""),(0,i.kt)("admonition",{type:"info"},(0,i.kt)("p",{parentName:"admonition"},"The funds nominated to a pool will not be visible in the member's account balance on Selendra JS\nApps UI. This is because the member funds are transferred from their account to the pool's account.\nThis pool account is not accessible by anyone (including the pool root or depositor) and only the\npool's internal logic can access the account.")),(0,i.kt)("admonition",{title:"Use Non-Transfer Proxy Accounts to join Nomination Pools",type:"tip"},(0,i.kt)("p",{parentName:"admonition"},"Currently, only ",(0,i.kt)("a",{parentName:"p",href:"/docs/learn-proxies#non-transfer-proxy"},"non-transfer proxies")," can be used to\nparticipate in nomination pools. ",(0,i.kt)("a",{parentName:"p",href:"/docs/learn-proxies#staking-proxy"},"staking proxies")," cannot be used\nas they are not enabled to make calls to the nomination pools pallet.")),(0,i.kt)("p",null,'Check the "How to join a pool" section in\n',(0,i.kt)("a",{parentName:"p",href:"https://support.selendra.org/support/solutions/articles/how-to-join-nomination-pools"},"this support article"),"\nfor guidelines."),(0,i.kt)("h3",{id:"claim-rewards"},"Claim rewards"),(0,i.kt)("p",null,'The member can claim their portion of any rewards that have accumulated since the previous time they\nclaimed (or in the case that they have never claimed, any rewards that have accumulated since the\nera after they joined). Rewards are split pro rata among the actively bonded members. Check the "How\nto claim rewards" section in\n',(0,i.kt)("a",{parentName:"p",href:"https://support.selendra.org/support/solutions/articles/how-to-join-nomination-pools"},"this support article"),"\nfor guidelines."),(0,i.kt)("h3",{id:"unbond-and-withdraw-funds"},"Unbond and withdraw funds"),(0,i.kt)("p",null,"At any point in time after joining the pool, a member can start the process of exiting by unbonding.\n",(0,i.kt)("inlineCode",{parentName:"p"},"unbond")," will unbond part or all of the member's funds. After unbond has been called and the\nunbonding duration has passed\n(",(0,i.kt)(r.Z,{network:"selendra",path:"consts.staking.bondingDuration",defaultValue:28,mdxType:"RPC"}),"\neras which correspond to\ndays on Selendra). A member may withdraw\ntheir funds with ",(0,i.kt)("inlineCode",{parentName:"p"},"withdrawUnbonded"),'. Withdrawing effectively ends a member\'s relationship with their\npool, allowing them to join a different pool if desired. Check the "Withdraw unbonded funds" section\nin\n',(0,i.kt)("a",{parentName:"p",href:"https://support.selendra.org/support/solutions/articles/how-to-join-nomination-pools"},"this support article"),"\nfor guidelines."),(0,i.kt)("admonition",{title:"Unbonding transaction automatically triggers withdrawal of rewards",type:"info"},(0,i.kt)("p",{parentName:"admonition"},"When there is a change in the bonded balance, the accumulated rewards in the pool thus far are automatically\nwithdrawn to the account. The rewards are then accrued based on the updated bonded balance. ")),(0,i.kt)("h3",{id:"limitations"},"Limitations"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"A member cannot vote (e.g. in Referenda or for Council members) with their nominated funds. This\nmay be changed in the future once accounts are afforded the ability to split votes."),(0,i.kt)("li",{parentName:"ul"},"In order for a member to switch pools all funds from the account must be unbonded. This process\ntakes 28 eras."),(0,i.kt)("li",{parentName:"ul"},"A member can partially unbond the staked funds in the pool (at most 16 partial unbonds).")),(0,i.kt)("h2",{id:"pool-administration"},"Pool Administration"),(0,i.kt)("h3",{id:"states"},"States"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Open: The pool is open to be joined by anyone."),(0,i.kt)("li",{parentName:"ul"},"Blocked: The pool is blocked; no joiners are permitted."),(0,i.kt)("li",{parentName:"ul"},"Destroying: The pool is in the process of being destroyed. Once in this state the pool may never\nrevert to any other state; it can only proceed to being destroyed. All members can be\npermissionlessly unbonded; this allows the pool to be dismantled regardless of any individual\nmember\u2019s proactivity.")),(0,i.kt)("h3",{id:"roles"},"Roles"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Depositor: Creates the pool and is the initial member. The depositor can only leave the pool once\nall other members have left. Once they leave by withdrawing, the pool is fully removed from the\nsystem."),(0,i.kt)("li",{parentName:"ul"},"Nominator: Can select the validators the pool nominates."),(0,i.kt)("li",{parentName:"ul"},"State-Toggler: Can change the pool\u2019s state and kick (permissionlessly unbond/withdraw) members if\nthe pool is blocked."),(0,i.kt)("li",{parentName:"ul"},"Root: Can change the nominator, state-toggler, or itself. Further, it can perform any of the\nactions the nominator or state-toggler can.")),(0,i.kt)("h2",{id:"pool-lifecycle"},"Pool Lifecycle"),(0,i.kt)("h3",{id:"work-in-progresss"},"WORK IN PROGRESSS"))}u.isMDXComponent=!0},8346:(e,n,t)=>{"use strict";t.d(n,{Z:()=>o});const o=t.p+"assets/images/NPoS-Pools-b758caea750e9e772fe7fcdbd6babeca.png"},3971:()=>{},6601:()=>{}}]);