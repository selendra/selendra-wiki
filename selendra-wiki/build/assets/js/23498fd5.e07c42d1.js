"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[810],{3905:(e,t,a)=>{a.d(t,{Zo:()=>d,kt:()=>h});var n=a(7294);function s(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function r(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function i(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?r(Object(a),!0).forEach((function(t){s(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):r(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function o(e,t){if(null==e)return{};var a,n,s=function(e,t){if(null==e)return{};var a,n,s={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(s[a]=e[a]);return s}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}var l=n.createContext({}),c=function(e){var t=n.useContext(l),a=t;return e&&(a="function"==typeof e?e(t):i(i({},t),e)),a},d=function(e){var t=c(e.components);return n.createElement(l.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},u=n.forwardRef((function(e,t){var a=e.components,s=e.mdxType,r=e.originalType,l=e.parentName,d=o(e,["components","mdxType","originalType","parentName"]),u=c(a),h=s,m=u["".concat(l,".").concat(h)]||u[h]||p[h]||r;return a?n.createElement(m,i(i({ref:t},d),{},{components:a})):n.createElement(m,i({ref:t},d))}));function h(e,t){var a=arguments,s=t&&t.mdxType;if("string"==typeof e||s){var r=a.length,i=new Array(r);i[0]=u;var o={};for(var l in t)hasOwnProperty.call(t,l)&&(o[l]=t[l]);o.originalType=e,o.mdxType="string"==typeof e?e:s,i[1]=o;for(var c=2;c<r;c++)i[c]=a[c];return n.createElement.apply(null,i)}return n.createElement.apply(null,a)}u.displayName="MDXCreateElement"},7551:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>d,contentTitle:()=>l,default:()=>h,frontMatter:()=>o,metadata:()=>c,toc:()=>p});var n=a(7462),s=a(3366),r=(a(7294),a(3905)),i=["components"],o={id:"build-integrate-assets",title:"Assets on Selendra",sidebar_label:"Integrating Assets",description:"Tools that you can use to integrating assets.",keywords:["assets","integration","api","operations"],slug:"../build-integrate-assets"},l=void 0,c={unversionedId:"build/build-integrate-assets",id:"build/build-integrate-assets",title:"Assets on Selendra",description:"Tools that you can use to integrating assets.",source:"@site/../docs/build/build-integrate-assets.md",sourceDirName:"build",slug:"/build-integrate-assets",permalink:"/docs/build-integrate-assets",draft:!1,editUrl:"https://github.com/selendra/selendra-wiki/edit/main/docs/build/build-integrate-assets.md",tags:[],version:"current",frontMatter:{id:"build-integrate-assets",title:"Assets on Selendra",sidebar_label:"Integrating Assets",description:"Tools that you can use to integrating assets.",keywords:["assets","integration","api","operations"],slug:"../build-integrate-assets"},sidebar:"docs",previous:{title:"Selendra Protocol",permalink:"/docs/build-protocol-info"},next:{title:"Node Management",permalink:"/docs/build-node-management"}},d={},p=[{value:"Assets Basics",id:"assets-basics",level:2},{value:"Asset Operations",id:"asset-operations",level:3},{value:"Integration",id:"integration",level:2},{value:"Parachain Node",id:"parachain-node",level:3},{value:"Sidecar",id:"sidecar",level:3},{value:"Tx Wrapper Selendra",id:"tx-wrapper-selendra",level:3}],u={toc:p};function h(e){var t=e.components,a=(0,s.Z)(e,i);return(0,r.kt)("wrapper",(0,n.Z)({},u,a,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("p",null,"The Selendra Relay Chain does not natively support assets beyond SEL. This functionality exists in parachains. On Selendra, this parachain is called Cardamom."),(0,r.kt)("p",null,"Cardamom provides a first-class interface for creating, managing, and using both fungible and\nnon-fungible assets. The fungible interface is similar to Ethereum's ERC-20 standard. However, the\ndata structures and stateful operations are encoded directly into the chain's runtime, making\noperations fast and fee-efficient."),(0,r.kt)("p",null,"Beyond merely supporting assets, integrating Cardamom into your systems has several benefits for\ninfrastructure providers and users:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Support for on-chain assets."),(0,r.kt)("li",{parentName:"ul"},"Significantly lower transaction fees (about 1/10) than the Relay Chain."),(0,r.kt)("li",{parentName:"ul"},"Significantly lower deposits (1/10) than the Relay Chain. This includes the existential deposit\nand deposits for proxy/multisig operations."),(0,r.kt)("li",{parentName:"ul"},"Ability to pay transaction fees in certain assets. As in, accounts would ",(0,r.kt)("strong",{parentName:"li"},"not")," need SEL in order\nto exist on-chain nor to pay fees.")),(0,r.kt)("p",null,"Cardamom will use SEL as its native currency. Users can transfer SEL from the Relay Chain into\nCardamom and use it natively. The Relay Chain will also accept SEL transfers from Cardamom back to\nthe Relay Chain to use for staking, governance, or any other activity taking place there."),(0,r.kt)("p",null,"Using Cardamom for SEL/KSM balance transfers will be much more efficient than the Relay Chain and\nis highly recommended. Until domain specific parachains are built, the Relay Chain will still need\nto be used for staking and governance."),(0,r.kt)("h2",{id:"assets-basics"},"Assets Basics"),(0,r.kt)("p",null,"See the ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/paritytech/substrate/blob/master/frame/assets/src/lib.rs"},"Assets pallet"),"\nfor the most up-to-date info and reference documentation."),(0,r.kt)("p",null,"Assets are stored as a map from an ID to information about the asset, including a management team,\ntotal supply, total number of accounts, its sufficiency for account existence, and more.\nAdditionally, the asset owner can register metadata like the name, symbol, and number of decimals\nfor representation."),(0,r.kt)("p",null,"Some assets, as determined by on-chain governance, are regarded as \u201csufficient\u201d. Sufficiency means\nthat the asset balance is enough to create the account on-chain, with no need for the SEL existential deposit. Likewise, you cannot send a non-sufficient asset to an account that does not\nexist. Sufficient assets can be used to pay transaction fees (i.e. there is no need to hold SEL\non the account)."),(0,r.kt)("p",null,"Assets do have a minimum balance (set by the creator), and if an account drops below that balance,\nthe dust is lost."),(0,r.kt)("h3",{id:"asset-operations"},"Asset Operations"),(0,r.kt)("p",null,"The Assets pallet has its own interface for dealing with assets. See the ",(0,r.kt)("a",{parentName:"p",href:"#integration"},"Integration"),"\nsection below for how to fetch information and construct transactions."),(0,r.kt)("p",null,"The main functions you will probably interact with are ",(0,r.kt)("inlineCode",{parentName:"p"},"transfer")," and ",(0,r.kt)("inlineCode",{parentName:"p"},"transfer_keep_alive"),". These\nfunctions transfer some ",(0,r.kt)("inlineCode",{parentName:"p"},"amount")," (balance) of an ",(0,r.kt)("inlineCode",{parentName:"p"},"AssetId")," (a ",(0,r.kt)("inlineCode",{parentName:"p"},"u32"),", not a contract address) to\nanother account."),(0,r.kt)("p",null,"The Assets pallet also provides an ",(0,r.kt)("inlineCode",{parentName:"p"},"approve_transfer"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"cancel_approval"),", and ",(0,r.kt)("inlineCode",{parentName:"p"},"transfer_approved"),"\ninterface for non-custodial operations."),(0,r.kt)("p",null,"Asset transfers will result in an ",(0,r.kt)("inlineCode",{parentName:"p"},"assets.transferred")," event. The same instructions for\n",(0,r.kt)("a",{parentName:"p",href:"/docs/build-protocol-info#events"},"monitoring events and ",(0,r.kt)("strong",{parentName:"a"},"not")," transactions")," applies to asset\ntransfers."),(0,r.kt)("p",null,"Note that you can use the same addresses (except anonymous proxies!) on Cardamom that you use on\nthe Relay Chain. The SS58 encodings are the same, only the chain information (genesis hash, etc.)\nwill change on transaction construction."),(0,r.kt)("h2",{id:"integration"},"Integration"),(0,r.kt)("p",null,"Cardamom will come with the same tooling suite that Parity Technologies provides for the Relay\nChain, namely ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/paritytech/substrate-api-sidecar"},"API Sidecar")," and\n",(0,r.kt)("a",{parentName:"p",href:"https://github.com/paritytech/txwrapper-core/tree/main/packages/txwrapper-polkadot"},"TxWrapper Selendra"),".\nIf you have a technical question or issue about how to use one of the integration tools please file\na GitHub issue so a developer can help."),(0,r.kt)("h3",{id:"parachain-node"},"Parachain Node"),(0,r.kt)("p",null,"Using Cardamom will require running a parachain node to sync the chain. This is very similar to\nrunning a Selendra node, with the addition of some extra flags. The basic format looks like this:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"./Cardamom $CARDAMOM_CLI_ARGS --collator -- $SELENDRA_CLI_ARGS\n")),(0,r.kt)("p",null,"where both ",(0,r.kt)("inlineCode",{parentName:"p"},"$CARDAMOM_CLI_ARGS")," and ",(0,r.kt)("inlineCode",{parentName:"p"},"$SELENDRA_CLI_ARGS")," consist of regular Selendra node flags.\nFlags can be used twice, one for the collating component and one for the Relay Chain component.\nAdditional ports that will be used are (by default) 9934, 9616, and 30334 (Relay Chain RPC,\nPrometheus endpoint, and libp2p respectively). As usual, any of these ports can be adjusted through\nflags. To deploy a Cardamom RPC node, one would use the same flags as a Selendra RPC node in place\nof ",(0,r.kt)("inlineCode",{parentName:"p"},"$CARDAMOM_CLI_ARGS"),". The node will keep both the database for Selendra and for Cardamom in its\ndatabase directory, so provision disks accordingly."),(0,r.kt)("h3",{id:"sidecar"},"Sidecar"),(0,r.kt)("p",null,"API Sidecar is a REST service for Relay Chain and parachain nodes; It comes with endpoints to query\ninfo about assets and asset balances on Cardamom."),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Asset lookups will always use the ",(0,r.kt)("inlineCode",{parentName:"li"},"AssetId")," to refer to an asset class. On-chain metadata is\nsubject to change and thus not suitable as a canonical index."),(0,r.kt)("li",{parentName:"ul"},"Please refer to ",(0,r.kt)("a",{parentName:"li",href:"https://paritytech.github.io/substrate-api-sidecar/dist/"},"docs")," for full usage\ninformation. Details on options like how to make a historical query are not included here.")),(0,r.kt)("h3",{id:"tx-wrapper-selendra"},"Tx Wrapper Selendra"),(0,r.kt)("p",null,"TxWrapper Selendra is a library designed to facilitate transaction construction and signing in\noffline environments; it comes with a set of asset-specific functions to use on Cardamom. When\nconstructing parachain transactions, you can use ",(0,r.kt)("inlineCode",{parentName:"p"},"txwrapper-polkadot")," exactly as on the Relay Chain,\nbut would construct transactions with the appropriate parachain metadata like genesis hash, spec\nversion, and type registry."))}h.isMDXComponent=!0}}]);